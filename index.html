
<html lang="en">
  <head>

    <title> User Dashbord</title>


    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
     <meta name="keywords" content="Users, Dashbord, API, React App"/>
<meta  name="description"  content="This is a simple Users Dashbord made with React."/>


  <!-- CSS styles-->

  <style type="text/css"></style>



</head>
<body>

  <!-- header-->

  <header>
    


  </header>



<!-- main component view-->

<div id="root"></div>


<!-- footer-->

<footer></footer>

  </body>



<!-- import react external files-->

<script src="js/react.development.js"></script>
  <script src="js/react-dom.development.js"></script>
  <script src="js/babel.min.js"></script>





  <script type="text/babel">

  // Define a User Dashbord component

class UserDashboard extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      users: [],
      searchQuery: '',
      selectedUser: null,
      error: null,
      loading: false,
    };
  }

  componentDidMount() {
  
  this.setState({loading: true});
  
    fetch('https://reqres.in/api/users?')
      .then(response => response.json())
      .then(all_data => this.setState({ users: all_data.data, loading: false }))
      .catch(error => this.setState({ error: error.message, loading: false }));
  }

  handleSearch = (event) => {
    this.setState({ searchQuery: event.target.value.trim() });
  }

  handleUserClick = (user) => {
    this.setState({ selectedUser: user });
  }

  render() {
    const { users, searchQuery, selectedUser, error, loading } = this.state;
    const filteredUsers = users.filter(user => user.first_name.toLowerCase().includes(searchQuery.toLowerCase()));
    
    if (loading) {
    
    return(
    
    <div>
   Loading...
   </div>
   
     );
    }
    
    if (error) {
      return (
      
      <div>
      
      Error: {error}
      
      </div>
      );
    }

    if (selectedUser) {
      return (
        <div>
          <h1>User Details</h1>
          <img src={selectedUser.avatar} alt={selectedUser.first_name} />
          <h2>{selectedUser.first_name} {selectedUser.last_name}</h2>
          <p>Email: {selectedUser.email}</p>
          <p>ID: {selectedUser.id}</p>
          <button onClick={() => this.setState({ selectedUser: null })}>Back</button>
        </div>
      );
    }

    return (
      <div>
        <h1>Users Dashboard</h1>
        <input type="search" value={searchQuery} onChange={this.handleSearch} />
        <ul>
          {filteredUsers.map(user => (
            <li key={user.id} onClick={() => this.handleUserClick(user)}>
              <img src={user.avatar} alt={user.first_name} />
              <span>{user.first_name} {user.last_name}</span>
            </li>
          ))}
        </ul>
      </div>
    );
  }
}

ReactDOM.render(<UserDashboard />, document.getElementById('root'));

</script>

</html>
